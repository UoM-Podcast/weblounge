<?xml version="1.0" encoding="UTF-8"?>
<blueprint default-activation="eager"
  xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:jpa="http://aries.apache.org/xmlns/jpa/v1.0.0" xmlns:tx="http://aries.apache.org/xmlns/transactions/v1.0.0">

  <bean id="webloungeDatasource" class="{{db_driver}}">
    <property name="url" value="jdbc:{{db_jdbc_protocol}}://{{db_host}}/{{db_name}}" />
    <property name="user" value="{{db_user}}"/>
    <property name="password" value="{{db_password}}"/>
  </bean>

  <service ref="webloungeDatasource" interface="javax.sql.DataSource">
    <service-properties>
      <entry key="osgi.jndi.service.name" value="jdbc/weblounge" />
    </service-properties>
  </service>

</blueprint>